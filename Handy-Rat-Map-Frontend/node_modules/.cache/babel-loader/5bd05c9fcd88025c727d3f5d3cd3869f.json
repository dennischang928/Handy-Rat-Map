{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import ImageSelector from\"./ImageSelector\";import{Transition}from\"semantic-ui-react\";import useSound from'use-sound';import CreateSuccessSoundEffect from'./CreateSuccessSoundEffect.mp3';import CreateFailSoundEffect from'./CreateFailSoundEffect.mp3';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Place_Definer=({visible,CompanyCreateState,message,OnClosed,OnSumbit,Lat,Lng,Address})=>{const ShopTypeOptions=[{value:\"BAR\",name:\"Bar\"},{value:\"RESTR\",name:\"Restaurant\"},{value:\"SMKT\",name:\"Supermarket\"},{value:\"BTQ\",name:\"Boutique\"},{value:\"SCH\",name:\"School\"}];const[ImageSrc,setImageSrc]=useState([]);const[ShopName,setShopName]=useState(\"\");const[ShopType,setShopType]=useState(ShopTypeOptions[0].value);const[ShopDescription,setShopDescription]=useState();const[playSuccess]=useSound(CreateSuccessSoundEffect);const[playFail]=useSound(CreateFailSoundEffect);useEffect(()=>{if(CompanyCreateState===2){playSuccess();}else if(CompanyCreateState===3){playFail();}},[CompanyCreateState]);const OnShopNameChange=E=>{setShopName(E.target.value);};const OnShopTypeChange=E=>{setShopType(E.target.value);};const OnShopDescriptionChange=E=>{setShopDescription(E.target.value);};const OnImageSrcChange=E=>{setImageSrc(E);};const OnImageDelete=index=>{setImageSrc(ImageSrc.filter((e,i)=>i!=index));};const ShopTypes=ShopTypeOptions.map(Element=>{return/*#__PURE__*/_jsx(\"option\",{value:Element.value,children:Element.name});});return/*#__PURE__*/_jsx(Transition,{visible:visible,animation:\"fade up\",duration:700,children:/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",bottom:\"0%\",width:\"100%\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"ui segment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`ui ${CompanyCreateState===2?\"active\":\"inactive\"} inverted dimmer`,children:[/*#__PURE__*/_jsx(\"i\",{className:\"big check icon\"}),`${ShopName} is created!`]}),/*#__PURE__*/_jsxs(\"div\",{className:`ui ${CompanyCreateState===3?\"active\":\"inactive\"} dimmer`,children:[/*#__PURE__*/_jsx(\"i\",{className:\"inverted big exclamation triangle icon\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"white\"},children:`Create \"${ShopName}\" fail.`}),/*#__PURE__*/_jsx(\"n\",{}),/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:message})]}),/*#__PURE__*/_jsx(\"i\",{onClick:OnClosed,style:{position:\"absolute\",right:\"50%\",transform:\"translate(+50%, -50%) scale(1.3)\"},className:\"caret down icon\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"ui form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ui grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"two column row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Shop name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"SHOP-NAME\",placeholder:\"e.g., Ray's Bar\",value:ShopName,onChange:OnShopNameChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Shop Type\"}),/*#__PURE__*/_jsx(\"select\",{className:\"ui fluid dropdown\",onChange:OnShopTypeChange,value:ShopType,children:ShopTypes})]})})]}),/*#__PURE__*/_jsx(ImageSelector,{Value:ImageSrc,onChange:OnImageSrcChange,OnImageDelete:OnImageDelete}),/*#__PURE__*/_jsxs(\"div\",{className:\"two column row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fourteen wide column\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"1\",value:ShopDescription,onChange:OnShopDescriptionChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"two wide column\",children:/*#__PURE__*/_jsx(\"i\",{onClick:()=>{console.log(typeof Address);OnSumbit({ShopName:ShopName,ShopType:ShopType,ImageSrc:ImageSrc,ShopDescription:ShopDescription,Addr:Address,Lat:Lat,Lng:Lng});},className:CompanyCreateState===0?\"paper plane outline icon\":\"\",style:{transform:\"scale(2)\",position:\"absolute\",bottom:\"35%\",left:\"25%\"},children:/*#__PURE__*/_jsx(\"div\",{style:{zIndex:10},className:`ui mini ${CompanyCreateState===1?\"active\":\" inactive\"} inline loader`,children:\" \"})})})]})]})})]})})});};export default Place_Definer;","map":{"version":3,"sources":["/Users/changdennis/competition_2020/src/Place_Define/Place_Definer.js"],"names":["React","useEffect","useState","ImageSelector","Transition","useSound","CreateSuccessSoundEffect","CreateFailSoundEffect","Place_Definer","visible","CompanyCreateState","message","OnClosed","OnSumbit","Lat","Lng","Address","ShopTypeOptions","value","name","ImageSrc","setImageSrc","ShopName","setShopName","ShopType","setShopType","ShopDescription","setShopDescription","playSuccess","playFail","OnShopNameChange","E","target","OnShopTypeChange","OnShopDescriptionChange","OnImageSrcChange","OnImageDelete","index","filter","e","i","ShopTypes","map","Element","position","bottom","width","color","right","transform","console","log","Addr","left","zIndex"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,UAAT,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAOC,CAAAA,wBAAP,KAAqC,gCAArC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,6BAAlC,C,wFAEA,KAAMC,CAAAA,aAAa,CAAG,CAAC,CAAEC,OAAF,CAAWC,kBAAX,CAA+BC,OAA/B,CAAwCC,QAAxC,CAAkDC,QAAlD,CAA4DC,GAA5D,CAAiEC,GAAjE,CAAsEC,OAAtE,CAAD,GAAqF,CACzG,KAAMC,CAAAA,eAAe,CAAG,CACtB,CACEC,KAAK,CAAE,KADT,CAEEC,IAAI,CAAE,KAFR,CADsB,CAKtB,CACED,KAAK,CAAE,OADT,CAEEC,IAAI,CAAE,YAFR,CALsB,CAStB,CACED,KAAK,CAAE,MADT,CAEEC,IAAI,CAAE,aAFR,CATsB,CAatB,CACED,KAAK,CAAE,KADT,CAEEC,IAAI,CAAE,UAFR,CAbsB,CAiBtB,CACED,KAAK,CAAE,KADT,CAEEC,IAAI,CAAE,QAFR,CAjBsB,CAAxB,CAuBA,KAAM,CAACC,QAAD,CAAWC,WAAX,EAA0BnB,QAAQ,CAAC,EAAD,CAAxC,CACA,KAAM,CAACoB,QAAD,CAAWC,WAAX,EAA0BrB,QAAQ,CAAC,EAAD,CAAxC,CACA,KAAM,CAACsB,QAAD,CAAWC,WAAX,EAA0BvB,QAAQ,CAACe,eAAe,CAAC,CAAD,CAAf,CAAmBC,KAApB,CAAxC,CACA,KAAM,CAACQ,eAAD,CAAkBC,kBAAlB,EAAwCzB,QAAQ,EAAtD,CACA,KAAM,CAAC0B,WAAD,EAAgBvB,QAAQ,CAACC,wBAAD,CAA9B,CACA,KAAM,CAACuB,QAAD,EAAaxB,QAAQ,CAACE,qBAAD,CAA3B,CACAN,SAAS,CAAC,IAAM,CACd,GAAIS,kBAAkB,GAAK,CAA3B,CAA8B,CAC5BkB,WAAW,GACZ,CAFD,IAEO,IAAIlB,kBAAkB,GAAK,CAA3B,CAA8B,CACnCmB,QAAQ,GACT,CACF,CANQ,CAMN,CAACnB,kBAAD,CANM,CAAT,CAOA,KAAMoB,CAAAA,gBAAgB,CAAGC,CAAC,EAAI,CAC5BR,WAAW,CAACQ,CAAC,CAACC,MAAF,CAASd,KAAV,CAAX,CACD,CAFD,CAIA,KAAMe,CAAAA,gBAAgB,CAAGF,CAAC,EAAI,CAC5BN,WAAW,CAACM,CAAC,CAACC,MAAF,CAASd,KAAV,CAAX,CACD,CAFD,CAGA,KAAMgB,CAAAA,uBAAuB,CAAGH,CAAC,EAAI,CACnCJ,kBAAkB,CAACI,CAAC,CAACC,MAAF,CAASd,KAAV,CAAlB,CACD,CAFD,CAGA,KAAMiB,CAAAA,gBAAgB,CAAGJ,CAAC,EAAI,CAC5BV,WAAW,CAACU,CAAD,CAAX,CACD,CAFD,CAIA,KAAMK,CAAAA,aAAa,CAAGC,KAAK,EAAI,CAC7BhB,WAAW,CAACD,QAAQ,CAACkB,MAAT,CAAgB,CAACC,CAAD,CAAIC,CAAJ,GAAUA,CAAC,EAAIH,KAA/B,CAAD,CAAX,CACD,CAFD,CAMA,KAAMI,CAAAA,SAAS,CAAGxB,eAAe,CAACyB,GAAhB,CAAoBC,OAAO,EAAI,CAC/C,mBAAO,eAAQ,KAAK,CAAEA,OAAO,CAACzB,KAAvB,UAA+ByB,OAAO,CAACxB,IAAvC,EAAP,CACD,CAFiB,CAAlB,CAIA,mBACE,KAAC,UAAD,EAAY,OAAO,CAAEV,OAArB,CAA8B,SAAS,CAAC,SAAxC,CAAkD,QAAQ,CAAE,GAA5D,uBACE,YACE,KAAK,CAAE,CACLmC,QAAQ,CAAE,UADL,CAELC,MAAM,CAAE,IAFH,CAGLC,KAAK,CAAE,MAHF,CADT,uBAOE,aAAK,SAAS,CAAC,YAAf,wBACE,aAAK,SAAS,CAAG,MAAKpC,kBAAkB,GAAK,CAAvB,CAA2B,QAA3B,CAAsC,UAAW,kBAAvE,wBACE,UAAG,SAAS,CAAC,gBAAb,EADF,CAEI,GAAEY,QAAS,cAFf,GADF,cAKE,aAAK,SAAS,CAAG,MAAKZ,kBAAkB,GAAK,CAAvB,CAA2B,QAA3B,CAAsC,UAAW,SAAvE,wBACE,UAAG,SAAS,CAAC,wCAAb,EADF,cAEE,YAAK,KAAK,CAAE,CACVqC,KAAK,CAAE,OADG,CAAZ,UAGI,WAAUzB,QAAS,SAHvB,EAFF,cAOE,YAPF,cAQE,YAAK,KAAK,CAAE,CACVyB,KAAK,CAAE,KADG,CAAZ,UAGGpC,OAHH,EARF,GALF,cAmBE,UACE,OAAO,CAAEC,QADX,CAEE,KAAK,CAAE,CACLgC,QAAQ,CAAE,UADL,CAELI,KAAK,CAAE,KAFF,CAGLC,SAAS,CAAE,kCAHN,CAFT,CAOE,SAAS,CAAC,iBAPZ,EAnBF,cA4BE,aA5BF,cA6BE,YAAK,SAAS,CAAC,SAAf,uBACE,aAAK,SAAS,CAAC,SAAf,wBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,YAAK,SAAS,CAAC,QAAf,uBACE,aAAK,SAAS,CAAC,OAAf,wBACE,oCADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,WAFP,CAGE,WAAW,CAAC,iBAHd,CAIE,KAAK,CAAE3B,QAJT,CAKE,QAAQ,CAAEQ,gBALZ,EAFF,GADF,EADF,cAaE,YAAK,SAAS,CAAC,QAAf,uBACE,aAAK,SAAS,CAAC,OAAf,wBACE,oCADF,cAEE,eACE,SAAS,CAAC,mBADZ,CAEE,QAAQ,CAAEG,gBAFZ,CAGE,KAAK,CAAET,QAHT,UAKGiB,SALH,EAFF,GADF,EAbF,GADF,cA2BE,KAAC,aAAD,EACE,KAAK,CAAErB,QADT,CAEE,QAAQ,CAAEe,gBAFZ,CAGE,aAAa,CAAEC,aAHjB,EA3BF,cAgCE,aAAK,SAAS,CAAC,gBAAf,wBACE,YAAK,SAAS,CAAC,sBAAf,uBACE,aAAK,SAAS,CAAC,OAAf,wBACE,sCADF,cAEE,iBACE,IAAI,CAAC,GADP,CAEE,KAAK,CAAEV,eAFT,CAGE,QAAQ,CAAEQ,uBAHZ,EAFF,GADF,EADF,cAWE,YAAK,SAAS,CAAC,iBAAf,uBACE,UACE,OAAO,CAAE,IAAM,CACbgB,OAAO,CAACC,GAAR,CAAY,MAAQnC,CAAAA,OAApB,EACAH,QAAQ,CAAC,CACPS,QAAQ,CAAEA,QADH,CAEPE,QAAQ,CAAEA,QAFH,CAGPJ,QAAQ,CAAEA,QAHH,CAIPM,eAAe,CAAEA,eAJV,CAKP0B,IAAI,CAAEpC,OALC,CAMPF,GAAG,CAAEA,GANE,CAOPC,GAAG,CAAEA,GAPE,CAAD,CAAR,CASD,CAZH,CAaE,SAAS,CAAEL,kBAAkB,GAAK,CAAvB,CAA2B,0BAA3B,CAAwD,EAbrE,CAcE,KAAK,CAAE,CACLuC,SAAS,CAAE,UADN,CAELL,QAAQ,CAAE,UAFL,CAGLC,MAAM,CAAE,KAHH,CAILQ,IAAI,CAAE,KAJD,CAdT,uBAqBE,YAAK,KAAK,CAAE,CAAEC,MAAM,CAAE,EAAV,CAAZ,CAA4B,SAAS,CAAG,WAAU5C,kBAAkB,GAAK,CAAvB,CAA2B,QAA3B,CAAsC,WAAY,gBAApG,eArBF,EADF,EAXF,GAhCF,GADF,EA7BF,GAPF,EADF,EADF,CAmHD,CAhLD,CAkLA,cAAeF,CAAAA,aAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ImageSelector from \"./ImageSelector\";\nimport { Transition } from \"semantic-ui-react\";\nimport useSound from 'use-sound';\nimport CreateSuccessSoundEffect from './CreateSuccessSoundEffect.mp3';\nimport CreateFailSoundEffect from './CreateFailSoundEffect.mp3';\n\nconst Place_Definer = ({ visible, CompanyCreateState, message, OnClosed, OnSumbit, Lat, Lng, Address }) => {\n  const ShopTypeOptions = [\n    {\n      value: \"BAR\",\n      name: \"Bar\"\n    },\n    {\n      value: \"RESTR\",\n      name: \"Restaurant\"\n    },\n    {\n      value: \"SMKT\",\n      name: \"Supermarket\"\n    },\n    {\n      value: \"BTQ\",\n      name: \"Boutique\"\n    },\n    {\n      value: \"SCH\",\n      name: \"School\"\n    }\n  ];\n\n  const [ImageSrc, setImageSrc] = useState([]);\n  const [ShopName, setShopName] = useState(\"\");\n  const [ShopType, setShopType] = useState(ShopTypeOptions[0].value);\n  const [ShopDescription, setShopDescription] = useState()\n  const [playSuccess] = useSound(CreateSuccessSoundEffect)\n  const [playFail] = useSound(CreateFailSoundEffect)\n  useEffect(() => {\n    if (CompanyCreateState === 2) {\n      playSuccess();\n    } else if (CompanyCreateState === 3) {\n      playFail();\n    }\n  }, [CompanyCreateState]);\n  const OnShopNameChange = E => {\n    setShopName(E.target.value);\n  };\n\n  const OnShopTypeChange = E => {\n    setShopType(E.target.value);\n  };\n  const OnShopDescriptionChange = E => {\n    setShopDescription(E.target.value);\n  };\n  const OnImageSrcChange = E => {\n    setImageSrc(E);\n  };\n\n  const OnImageDelete = index => {\n    setImageSrc(ImageSrc.filter((e, i) => i != index));\n  };\n\n\n\n  const ShopTypes = ShopTypeOptions.map(Element => {\n    return <option value={Element.value}>{Element.name}</option>;\n  });\n\n  return (\n    <Transition visible={visible} animation=\"fade up\" duration={700}>\n      <div\n        style={{\n          position: \"absolute\",\n          bottom: \"0%\",\n          width: \"100%\"\n        }}\n      >\n        <div className=\"ui segment\">\n          <div className={`ui ${CompanyCreateState === 2 ? \"active\" : \"inactive\"} inverted dimmer`}>\n            <i className=\"big check icon\"></i>\n            {`${ShopName} is created!`}\n          </div>\n          <div className={`ui ${CompanyCreateState === 3 ? \"active\" : \"inactive\"} dimmer`}>\n            <i className=\"inverted big exclamation triangle icon\"></i>\n            <div style={{\n              color: \"white\"\n            }}>\n              {`Create \"${ShopName}\" fail.`}\n            </div>\n            <n />\n            <div style={{\n              color: \"red\"\n            }}>\n              {message}\n            </div>\n          </div>\n          <i\n            onClick={OnClosed}\n            style={{\n              position: \"absolute\",\n              right: \"50%\",\n              transform: \"translate(+50%, -50%) scale(1.3)\"\n            }}\n            className=\"caret down icon\"\n          ></i>\n          <br />\n          <div className=\"ui form\">\n            <div className=\"ui grid\">\n              <div className=\"two column row\">\n                <div className=\"column\">\n                  <div className=\"field\">\n                    <label>Shop name</label>\n                    <input\n                      type=\"text\"\n                      name=\"SHOP-NAME\"\n                      placeholder=\"e.g., Ray's Bar\"\n                      value={ShopName}\n                      onChange={OnShopNameChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"column\">\n                  <div className=\"field\">\n                    <label>Shop Type</label>\n                    <select\n                      className=\"ui fluid dropdown\"\n                      onChange={OnShopTypeChange}\n                      value={ShopType}\n                    >\n                      {ShopTypes}\n                    </select>\n                  </div>\n                </div>\n              </div>\n              <ImageSelector\n                Value={ImageSrc}\n                onChange={OnImageSrcChange}\n                OnImageDelete={OnImageDelete}\n              />\n              <div className=\"two column row\">\n                <div className=\"fourteen wide column\">\n                  <div className=\"field\">\n                    <label>Description</label>\n                    <textarea\n                      rows=\"1\"\n                      value={ShopDescription}\n                      onChange={OnShopDescriptionChange}\n                    ></textarea>\n                  </div>\n                </div>\n                <div className=\"two wide column\">\n                  <i\n                    onClick={() => {\n                      console.log(typeof (Address));\n                      OnSumbit({\n                        ShopName: ShopName,\n                        ShopType: ShopType,\n                        ImageSrc: ImageSrc,\n                        ShopDescription: ShopDescription,\n                        Addr: Address,\n                        Lat: Lat,\n                        Lng: Lng\n                      });\n                    }}\n                    className={CompanyCreateState === 0 ? \"paper plane outline icon\" : \"\"}\n                    style={{\n                      transform: \"scale(2)\",\n                      position: \"absolute\",\n                      bottom: \"35%\",\n                      left: \"25%\"\n                    }}\n                  >\n                    <div style={{ zIndex: 10 }} className={`ui mini ${CompanyCreateState === 1 ? \"active\" : \" inactive\"} inline loader`}> </div>\n                  </i>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div >\n    </Transition >\n\n  );\n};\n\nexport default Place_Definer;\n"]},"metadata":{},"sourceType":"module"}